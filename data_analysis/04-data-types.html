<!DOCTYPE html>
<!-- saved from url=(0083)https://datacarpentry.org/python-ecology-lesson/04-data-types-and-format/index.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="last-modified" content="2020-06-23 13:47:10 +0000">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- meta "search-domain" used for google site search function google_search() -->
    <meta name="search-domain" value="http://pzindel.github.io/LanternPython">
    <link rel="stylesheet" type="text/css" href="../css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../css/bootstrap-theme.css">
    <link rel="stylesheet" type="text/css" href="../css/lesson.css">
    <link rel="stylesheet" type="text/css" href="../css/syntax.css">

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

  <title>
  Data Types and Formats – Data Analysis and Visualization in Python for Ecologists
  </title>  

  </head>
  <body>

    







    <div class="container">
      
















  
  










<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="true">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      
      
      
      

      
      <a class="navbar-brand" href="../index.html">Home</a>

    </div>
    <div class="navbar-collapse collapse in" id="bs-example-navbar-collapse-1" aria-expanded="true" style="">
      <ul class="nav navbar-nav">

        
        <li class="dropdown">
          <a href="../unix/01-intro.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">The Unix Shell <span class="caret"></span></a>
          <ul class="dropdown-menu">
            
            
            <li><a href="../unix/01-intro.html">Introducing the Shell</a></li>
            
            
            <li><a href="../unix/02-filedir.html">Navigating Files and Directories</a></li>
            
            
            <li><a href="../unix/03-create.html">Working With Files and Directories</a></li>
            
            
            <li><a href="../unix/04-pipefilter.html">Pipes and Filters</a></li>
            
            
            <li><a href="../unix/05-loop.html">Loops</a></li>
            
            
            <li><a href="../unix/06-script.html">Shell Scripts</a></li>
            
            
            <li><a href="../unix/07-find.html">Finding Things</a></li>
            
	    <li role="separator" class="divider"></li>
            <li><a href="../unix/aio.html">All in one page</a></li>
          </ul>
        </li>
	        
		
		<li class="dropdown">
          <a href="../python/01-intro.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Programming with Python <span class="caret"></span></a>
          <ul class="dropdown-menu">
            
            
            <li><a href="../python/01-intro.html">Python Fundamentals</a></li>
            
            
            <li><a href="../python/02-numpy.html">Analyzing Patient Data</a></li>
            
            
            <li><a href="../python/03-matplotlib.html">Visualizing Tabular Data</a></li>
            
            
            <li><a href="../python/04-loop.html">Repeating Actions with Loops</a></li>
            
            
            <li><a href="../python/05-lists.html">Storing Multiple Values in Lists</a></li>
            
            
            <li><a href="../python/06-files.html">Analyzing Data from Multiple Files</a></li>
            
            
            <li><a href="../python/07-cond.html">Making Choices</a></li>
            
            
            <li><a href="../python/08-func.html">Creating Functions</a></li>
            
            
            <li><a href="../python/09-errors.html">Errors and Exceptions</a></li>
            
            
            <li><a href="../python/10-defensive.html">Defensive Programming</a></li>
            
            
            <li><a href="../python/11-debugging.html">Debugging</a></li>
            
            
            <li><a href="../python/12-cmdline.html">Command-Line Programs</a></li>
            
	    <li role="separator" class="divider"></li>
            <li><a href="../python/aio.html">All in one page</a></li>
          </ul>
        </li>
	

		<li class="dropdown">
          <a href="._analysis/01-intro-to-python.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Data Analysis <span class="caret"></span></a>
          <ul class="dropdown-menu">
            
            
            <li><a href="./00-before-we-start.html">Before we start</a></li>
            
            
            <li><a href="./01-intro-to-python.html">Short Introduction to Programming in Python</a></li>
            
            
            <li><a href="./02-starting-with-data.html">Starting With Data</a></li>
            
            
            <li><a href="./03-index-slice-subset.html">Indexing, Slicing and Subsetting DataFrames in Python</a></li>
            
            
            <li><a href="./04-data-types.html">Data Types and Formats</a></li>
            
            
            <li><a href="./05-merging-data.html">Combining DataFrames with Pandas</a></li>
            
            
            <li><a href="./06-loops-and-functions.html">Data Workflows and Automation</a></li>
            
            
            <li><a href="./07-visualization.html">Making Plots With plotnine</a></li>
            
            
            <li><a href="./08-all-together.html">Data Ingest and Visualization - Matplotlib and Pandas</a></li>
            
            
            <li><a href="./09-working-with-sql.html">Accessing SQLite Databases Using Python and Pandas</a></li>
            
	    <li role="separator" class="divider"></li>
            <li><a href="./aio.html">All in one page</a></li>
          </ul>
        </li>

        <li><a href="../licenses.html">License</a></li>
	
	
	
      </ul>
      <form class="navbar-form navbar-right" role="search" id="search" onsubmit="google_search(); return false;">
        <div class="form-group">
          <input type="text" id="google-search" placeholder="Search..." aria-label="Google site search">
        </div>
      </form>
    </div>
  </div>
</nav>




























  
  











<div class="row">
  <div class="col-xs-1">
    <h3 class="text-left">
      
      <a href="./03-index-slice-subset.html"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span><span class="sr-only">previous episode</span></a>
      
    </h3>
  </div>
  <div class="col-xs-10">
    
    <h3 class="maintitle"><a href="../index.html#data">Data Analysis and Visualization in Python for Ecologists</a></h3>
    
  </div>
  <div class="col-xs-1">
    <h3 class="text-right">
      
      <a href="./05-merging-data.html"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span><span class="sr-only">next episode</span></a>
      
    </h3>
  </div>
</div>

<article>
<div class="row">
  <div class="col-md-1">
  </div>
  <div class="col-md-10">
    <h1 class="maintitle">Data Types and Formats</h1>
  </div>
  <div class="col-md-1">
  </div>
</div>












<blockquote class="objectives">
  <h2>Overview</h2>

  <div class="row">
    <div class="col-md-3">
      <strong>Teaching:</strong> 20 min
      <br>
      <strong>Exercises:</strong> 25 min
    </div>
    <div class="col-md-9">
      <strong>Questions</strong>
      <ul>
	
	<li><p>What types of data can be contained in a DataFrame?</p>
</li>
	
	<li><p>Why is the data type important?</p>
</li>
	
      </ul>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
    </div>
    <div class="col-md-9">
      <strong>Objectives</strong>
      <ul>
	
	<li><p>Describe how information is stored in a Python DataFrame.</p>
</li>
	
	<li><p>Define the two main types of data in Python: text and numerics.</p>
</li>
	
	<li><p>Examine the structure of a DataFrame.</p>
</li>
	
	<li><p>Modify the format of values in a DataFrame.</p>
</li>
	
	<li><p>Describe how data types impact operations.</p>
</li>
	
	<li><p>Define, manipulate, and interconvert integers and floats in Python.</p>
</li>
	
	<li><p>Analyze datasets having missing/null values (NaN values).</p>
</li>
	
	<li><p>Write manipulated data to a file.</p>
</li>
	
      </ul>
    </div>
  </div>

</blockquote>

<p>The format of individual columns and rows will impact analysis performed on a
dataset read into Python. For example, you can’t perform mathematical
calculations on a string (text formatted data). This might seem obvious,
however sometimes numeric values are read into Python as strings. In this
situation, when you then try to perform calculations on the string-formatted
numeric data, you get an error.</p>

<p>In this lesson we will review ways to explore and better understand the
structure and format of our data.</p>

<h2 id="types-of-data">Types of Data</h2>

<p>How information is stored in a
DataFrame or a Python object affects what we can do with it and the outputs of
calculations as well. There are two main types of data that we will explore in
this lesson: numeric and text data types.</p>

<h2 id="numeric-data-types">Numeric Data Types</h2>

<p>Numeric data types include integers and floats. A <strong>floating point</strong> (known as a
float) number has decimal points even if that decimal point value is 0. For
example: 1.13, 2.0, 1234.345. If we have a column that contains both integers and
floating point numbers, Pandas will assign the entire column to the float data
type so the decimal points are not lost.</p>

<p>An <strong>integer</strong> will never have a decimal point. Thus if we wanted to store 1.13 as
an integer it would be stored as 1. Similarly, 1234.345 would be stored as 1234. You
will often see the data type <code class="language-plaintext highlighter-rouge">Int64</code> in Python which stands for 64 bit integer. The 64
refers to the memory allocated to store data in each cell which effectively
relates to how many digits it can store in each “cell”. Allocating space ahead of time
allows computers to optimize storage and processing efficiency.</p>

<h2 id="text-data-type">Text Data Type</h2>

<p>Text data type is known as Strings in Python, or Objects in Pandas. Strings can
contain numbers and / or characters. For example, a string might be a word, a
sentence, or several sentences. A Pandas object might also be a plot name like
‘plot1’. A string can also contain or consist of numbers. For instance, ‘1234’
could be stored as a string, as could ‘10.23’. However <strong>strings that contain
numbers can not be used for mathematical operations</strong>!</p>

<p>Pandas and base Python use slightly different names for data types. More on this
is in the table below:</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Pandas Type</th>
      <th>Native Python Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>object</td>
      <td>string</td>
      <td>The most general dtype. Will be assigned to your column if column has mixed types (numbers and strings).</td>
    </tr>
    <tr>
      <td>int64</td>
      <td>int</td>
      <td>Numeric characters. 64 refers to the memory allocated to hold this character.</td>
    </tr>
    <tr>
      <td>float64</td>
      <td>float</td>
      <td>Numeric characters with decimals. If a column contains numbers and NaNs (see below), pandas will default to float64, in case your missing value has a decimal.</td>
    </tr>
    <tr>
      <td>datetime64, timedelta[ns]</td>
      <td>N/A (but see the <a href="http://doc.python.org/2/library/datetime.html">datetime</a> module in Python’s standard library)</td>
      <td>Values meant to hold time data. Look into these for time series experiments.</td>
    </tr>
  </tbody>
</table>

<h2 id="checking-the-format-of-our-data">Checking the format of our data</h2>

<p>Now that we’re armed with a basic understanding of numeric and text data
types, let’s explore the format of our survey data. We’ll be working with the
same <code class="language-plaintext highlighter-rouge">surveys.csv</code> dataset that we’ve used in previous lessons.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Make sure pandas is loaded
</span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>

<span class="c1"># Note that pd.read_csv is used because we imported pandas as pd
</span><span class="n">surveys_df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">"data/surveys.csv"</span><span class="p">)</span>
</code></pre></div></div>

<p>Remember that we can check the type of an object like this:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">type</span><span class="p">(</span><span class="n">surveys_df</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pandas.core.frame.DataFrame
</code></pre></div></div>

<p>Next, let’s look at the structure of our surveys data. In pandas, we can check
the type of one column in a DataFrame using the syntax
<code class="language-plaintext highlighter-rouge">dataFrameName[column_name].dtype</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">surveys_df</span><span class="p">[</span><span class="s">'sex'</span><span class="p">].</span><span class="n">dtype</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dtype('O')
</code></pre></div></div>

<p>A type ‘O’ just stands for “object” which in Pandas’ world is a string
(text).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">surveys_df</span><span class="p">[</span><span class="s">'record_id'</span><span class="p">].</span><span class="n">dtype</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dtype('int64')
</code></pre></div></div>

<p>The type <code class="language-plaintext highlighter-rouge">int64</code> tells us that Python is storing each value within this column
as a 64 bit integer. We can use the <code class="language-plaintext highlighter-rouge">dat.dtypes</code> command to view the data type
for each column in a DataFrame (all at once).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">surveys_df</span><span class="p">.</span><span class="n">dtypes</span>
</code></pre></div></div>

<p>which <strong>returns</strong>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">record_id</span>            <span class="n">int64</span>
<span class="n">month</span>                <span class="n">int64</span>
<span class="n">day</span>                  <span class="n">int64</span>
<span class="n">year</span>                 <span class="n">int64</span>
<span class="n">plot_id</span>              <span class="n">int64</span>
<span class="n">species_id</span>          <span class="nb">object</span>
<span class="n">sex</span>                 <span class="nb">object</span>
<span class="n">hindfoot_length</span>    <span class="n">float64</span>
<span class="n">weight</span>             <span class="n">float64</span>
<span class="n">dtype</span><span class="p">:</span> <span class="nb">object</span>
</code></pre></div></div>

<p>Note that most of the columns in our Survey data are of type <code class="language-plaintext highlighter-rouge">int64</code>. This means
that they are 64 bit integers. But the weight column is a floating point value
which means it contains decimals. The <code class="language-plaintext highlighter-rouge">species_id</code> and <code class="language-plaintext highlighter-rouge">sex</code> columns are objects which
means they contain strings.</p>

<h2 id="working-with-integers-and-floats">Working With Integers and Floats</h2>

<p>So we’ve learned that computers store numbers in one of two ways: as integers or
as floating-point numbers (or floats). Integers are the numbers we usually count
with. Floats have fractional parts (decimal places).  Let’s next consider how
the data type can impact mathematical operations on our data. Addition,
subtraction, division and multiplication work on floats and integers as we’d expect.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="mi">5</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>10
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="mi">24</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>20
</code></pre></div></div>

<p>If we divide one integer by another, we get a float.
The result on Python 3 is different than in Python 2, where the result is an
integer (integer division).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">9</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0.5555555555555556
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="mi">10</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>3.3333333333333335
</code></pre></div></div>

<p>We can also convert a floating point number to an integer or an integer to
floating point number. Notice that Python by default rounds down when it
converts from floating point to integer.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Convert a to an integer
</span><span class="n">a</span> <span class="o">=</span> <span class="mf">7.83</span>
<span class="nb">int</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>7
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Convert b to a float
</span><span class="n">b</span> <span class="o">=</span> <span class="mi">7</span>
<span class="nb">float</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>7.0
</code></pre></div></div>

<h2 id="working-with-our-survey-data">Working With Our Survey Data</h2>

<p>Getting back to our data, we can modify the format of values within our data, if
we want. For instance, we could convert the <code class="language-plaintext highlighter-rouge">record_id</code> field to floating point
values.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Convert the record_id field from an integer to a float
</span><span class="n">surveys_df</span><span class="p">[</span><span class="s">'record_id'</span><span class="p">]</span> <span class="o">=</span> <span class="n">surveys_df</span><span class="p">[</span><span class="s">'record_id'</span><span class="p">].</span><span class="n">astype</span><span class="p">(</span><span class="s">'float64'</span><span class="p">)</span>
<span class="n">surveys_df</span><span class="p">[</span><span class="s">'record_id'</span><span class="p">].</span><span class="n">dtype</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dtype('float64')
</code></pre></div></div>

<blockquote class="challenge">
  <h2 id="changing-types">Changing Types</h2>

  <p>Try converting the column <code class="language-plaintext highlighter-rouge">plot_id</code> to floats using</p>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">surveys_df</span><span class="p">.</span><span class="n">plot_id</span><span class="p">.</span><span class="n">astype</span><span class="p">(</span><span class="s">"float"</span><span class="p">)</span>
</code></pre></div>  </div>

  <p>Next try converting <code class="language-plaintext highlighter-rouge">weight</code> to an integer. What goes wrong here? What is Pandas telling you?
We will talk about some solutions to this later.</p>
</blockquote>

<h2 id="missing-data-values---nan">Missing Data Values - NaN</h2>

<p>What happened in the last challenge activity? Notice that this throws a value error:
<code class="language-plaintext highlighter-rouge">ValueError: Cannot convert NA to integer</code>. If we look at the <code class="language-plaintext highlighter-rouge">weight</code> column in the surveys
data we notice that there are NaN (<strong>N</strong>ot <strong>a</strong> <strong>N</strong>umber) values. <strong>NaN</strong> values are undefined
values that cannot be represented mathematically. Pandas, for example, will read
an empty cell in a CSV or Excel sheet as a NaN. NaNs have some desirable properties: if we
were to average the <code class="language-plaintext highlighter-rouge">weight</code> column without replacing our NaNs, Python would know to skip
over those cells.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">surveys_df</span><span class="p">[</span><span class="s">'weight'</span><span class="p">].</span><span class="n">mean</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>42.672428212991356
</code></pre></div></div>

<p>Dealing with missing data values is always a challenge. It’s sometimes hard to
know why values are missing - was it because of a data entry error? Or data that
someone was unable to collect? Should the value be 0? We need to know how
missing values are represented in the dataset in order to make good decisions.
If we’re lucky, we have some metadata that will tell us more about how null
values were handled.</p>

<p>For instance, in some disciplines, like Remote Sensing, missing data values are
often defined as -9999. Having a bunch of -9999 values in your data could really
alter numeric calculations. Often in spreadsheets, cells are left empty where no
data are available. Pandas will, by default, replace those missing values with
NaN. However it is good practice to get in the habit of intentionally marking
cells that have no data, with a no data value! That way there are no questions
in the future when you (or someone else) explores your data.</p>

<h3 id="where-are-the-nans">Where Are the NaN’s?</h3>

<p>Let’s explore the NaN values in our data a bit further. Using the tools we
learned in lesson 02, we can figure out how many rows contain NaN values for
weight. We can also create a new subset from our data that only contains rows
with weight values &gt; 0 (i.e., select meaningful weight values):</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">len</span><span class="p">(</span><span class="n">surveys_df</span><span class="p">[</span><span class="n">pd</span><span class="p">.</span><span class="n">isnull</span><span class="p">(</span><span class="n">surveys_df</span><span class="p">.</span><span class="n">weight</span><span class="p">)])</span>
<span class="c1"># How many rows have weight values?
</span><span class="nb">len</span><span class="p">(</span><span class="n">surveys_df</span><span class="p">[</span><span class="n">surveys_df</span><span class="p">.</span><span class="n">weight</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">])</span>
</code></pre></div></div>

<p>We can replace all NaN values with zeroes using the <code class="language-plaintext highlighter-rouge">.fillna()</code> method (after
making a copy of the data so we don’t lose our work):</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df1</span> <span class="o">=</span> <span class="n">surveys_df</span><span class="p">.</span><span class="n">copy</span><span class="p">()</span>
<span class="c1"># Fill all NaN values with 0
</span><span class="n">df1</span><span class="p">[</span><span class="s">'weight'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="s">'weight'</span><span class="p">].</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></div>

<p>However NaN and 0 yield different analysis results. The mean value when NaN
values are replaced with 0 is different from when NaN values are simply thrown
out or ignored.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df1</span><span class="p">[</span><span class="s">'weight'</span><span class="p">].</span><span class="n">mean</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>38.751976145601844
</code></pre></div></div>

<p>We can fill NaN values with any value that we chose. The code below fills all
NaN values with a mean for all weight values.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df1</span><span class="p">[</span><span class="s">'weight'</span><span class="p">]</span> <span class="o">=</span> <span class="n">surveys_df</span><span class="p">[</span><span class="s">'weight'</span><span class="p">].</span><span class="n">fillna</span><span class="p">(</span><span class="n">surveys_df</span><span class="p">[</span><span class="s">'weight'</span><span class="p">].</span><span class="n">mean</span><span class="p">())</span>
</code></pre></div></div>

<p>We could also chose to create a subset of our data, only keeping rows that do
not contain NaN values.</p>

<p>The point is to make conscious decisions about how to manage missing data. This
is where we think about how our data will be used and how these values will
impact the scientific conclusions made from the data.</p>

<p>Python gives us all of the tools that we need to account for these issues. We
just need to be cautious about how the decisions that we make impact scientific
results.</p>

<blockquote class="challenge">
  <h2 id="counting">Counting</h2>
  <p>Count the number of missing values per column.</p>

  <blockquote class="solution">
    <h2 id="hint">Hint<span class="fold-unfold glyphicon glyphicon-collapse-down"></span></h2>
    <p style="display: none;">The method <code class="language-plaintext highlighter-rouge">.count()</code> gives you the number of non-NA observations per column.
Try looking to the <code class="language-plaintext highlighter-rouge">.isnull()</code> method.</p>
  </blockquote>
</blockquote>

<h2 id="writing-out-data-to-csv">Writing Out Data to CSV</h2>

<p>We’ve learned about using manipulating data to get desired outputs. But we’ve also discussed
keeping data that has been manipulated separate from our raw data. Something we might be interested
in doing is working with only the columns that have full data. First, let’s reload the data so
we’re not mixing up all of our previous manipulations.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">surveys_df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">"data/surveys.csv"</span><span class="p">)</span>
</code></pre></div></div>
<p>Next, let’s drop all the rows that contain missing values. We will use the command <code class="language-plaintext highlighter-rouge">dropna</code>.
By default, dropna removes rows that contain missing data for even just one column.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df_na</span> <span class="o">=</span> <span class="n">surveys_df</span><span class="p">.</span><span class="n">dropna</span><span class="p">()</span>
</code></pre></div></div>

<p>If you now type <code class="language-plaintext highlighter-rouge">df_na</code>, you should observe that the resulting DataFrame has 30676 rows
and 9 columns, much smaller than the 35549 row original.</p>

<p>We can now use the <code class="language-plaintext highlighter-rouge">to_csv</code> command to export a DataFrame in CSV format. Note that the code
below will by default save the data into the current working directory. We can
save it to a different folder by adding the foldername and a slash before the filename:
<code class="language-plaintext highlighter-rouge">df.to_csv('foldername/out.csv')</code>. We use ‘index=False’ so that
pandas doesn’t include the index number for each line.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Write DataFrame to CSV
</span><span class="n">df_na</span><span class="p">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s">'data_output/surveys_complete.csv'</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</code></pre></div></div>

<p>We will use this data file later in the workshop. Check out your working directory to make
sure the CSV wrote out properly, and that you can open it! If you want, try to bring it
back into Python to make sure it imports properly.</p>

<h2 id="recap">Recap</h2>

<p>What we’ve learned:</p>

<ul>
  <li>How to explore the data types of columns within a DataFrame</li>
  <li>How to change the data type</li>
  <li>What NaN values are, how they might be represented, and what this means for your work</li>
  <li>How to replace NaN values, if desired</li>
  <li>How to use <code class="language-plaintext highlighter-rouge">to_csv</code> to write manipulated data to a file.</li>
</ul>






<blockquote class="keypoints">
  <h2>Key Points</h2>
  <ul>
    
    <li><p>Pandas uses other names for data types than Python, for example: <code class="language-plaintext highlighter-rouge">object</code> for textual data.</p>
</li>
    
    <li><p>A column in a DataFrame can only have one data type.</p>
</li>
    
    <li><p>The data type in a DataFrame’s single column can be checked using <code class="language-plaintext highlighter-rouge">dtype</code>.</p>
</li>
    
    <li><p>Make conscious decisions about how to manage missing data.</p>
</li>
    
    <li><p>A DataFrame can be saved to a CSV file using the <code class="language-plaintext highlighter-rouge">to_csv</code> function.</p>
</li>
    
  </ul>
</blockquote>

</article>



























  
  











<div class="row">
  <div class="col-xs-1">
    <h3 class="text-left">
      
      <a href="./03-index-slice-subset.html"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span><span class="sr-only">previous episode</span></a>
      
    </h3>
  </div>
  <div class="col-xs-10">
    
  </div>
  <div class="col-xs-1">
    <h3 class="text-right">
      
      <a href="./05-merging-data.html"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span><span class="sr-only">next episode</span></a>
      
    </h3>
  </div>
</div>


      
      






<footer>
  <div class="row">
  </div>
</footer>

      
    </div>
    
<script async="" src="../js/analytics.js.download"></script><script src="../js/jquery.min.js.download"></script>
<script src="../js/bootstrap.min.js.download"></script>
<script src="../js/lesson.js.download"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-37305346-2', 'auto');
  ga('send', 'pageview');
</script>
  

</body></html>